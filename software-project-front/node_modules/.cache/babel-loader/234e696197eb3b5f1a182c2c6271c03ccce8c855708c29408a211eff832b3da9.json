{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Register\",\n  data() {\n    var checkNickname = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"昵称不能为空\"));\n      } else {\n        return callback();\n      }\n    };\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.registerForm.checkPassword !== \"\") {\n          this.$refs.registerForm.validateField(\"uPassword\");\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.registerForm.uPassword) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    var checkEmail = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"邮箱不能为空\"));\n      } else {\n        return callback();\n      }\n    };\n    var checkPhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"手机号不能为空\"));\n      } else {\n        return callback();\n      }\n    };\n    var checkAddress = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"住宿地址不能为空\"));\n      } else {\n        return callback();\n      }\n    };\n    return {\n      registerForm: {\n        uPassword: \"\",\n        uNickname: \"\",\n        uEmail: \"\",\n        uPhone: \"\",\n        uAddress: \"\",\n        uCheckPassword: \"\"\n      },\n      rules: {\n        uNickname: [{\n          validator: checkNickname,\n          trigger: \"blur\"\n        }],\n        uPassword: [{\n          validator: validatePass,\n          trigger: \"blur\"\n        }],\n        uCheckPassword: [{\n          validator: validatePass2,\n          trigger: \"blur\"\n        }],\n        uEmail: [{\n          validator: checkEmail,\n          trigger: \"blur\"\n        }],\n        uPhone: [{\n          validator: checkPhone,\n          trigger: \"blur\"\n        }],\n        uAddress: [{\n          validator: checkAddress,\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    register() {\n      // console.log(this.registerForm);\n      // let registerData = new FormData();\n      // registerData.append('uNickname',this.registerForm.uNickname);\n      // registerData.append('uEmail',this.registerForm.uEmail);\n      // registerData.append('uPhone',this.registerForm.uPhone);\n      // registerData.append('uPassword',this.registerForm.uPassword);\n      // registerData.append('uCheckPassword',this.registerForm.uCheckPassword);\n      // registerData.append('uAddress',this.registerForm.uAddress);\n      // 将表单数据转换为 JSON 格式\n      const registerData = {\n        uNickname: this.registerForm.uNickname,\n        uEmail: this.registerForm.uEmail,\n        uPhone: this.registerForm.uPhone,\n        uPassword: this.registerForm.uPassword,\n        uCheckPassword: this.registerForm.uCheckPassword,\n        uAddress: this.registerForm.uAddress\n      };\n\n      // this.axios.post(\"http://localhost:8123/api/users/register/\",registerData).then(resp => {\n      //   console.log(resp);\n      this.axios.post(\"http://localhost:8123/api/users/register/\", registerData, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(resp => {\n        console.log(resp);\n        if (resp.data.message === \"注册成功\") {\n          this.$message({\n            message: resp.data.message,\n            type: \"success\"\n          });\n          this.$router.push({\n            path: \"/Login\"\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n      console.log(registerData);\n    },\n    toLogin() {\n      this.$router.push({\n        path: \"/Login\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","checkNickname","rule","value","callback","Error","validatePass","registerForm","checkPassword","$refs","validateField","validatePass2","uPassword","checkEmail","checkPhone","checkAddress","uNickname","uEmail","uPhone","uAddress","uCheckPassword","rules","validator","trigger","methods","register","registerData","axios","post","headers","then","resp","console","log","message","$message","type","$router","push","path","catch","error","toLogin"],"sources":["src/views/RegisterView.vue"],"sourcesContent":["<template>\n  <div class=\"poster\">\n    <el-form\n      :model=\"registerForm\"\n      status-icon\n      :rules=\"rules\"\n      ref=\"registerForm\"\n      label-position=\"left\"\n      class=\"register-container\"\n    >\n      <h3 class=\"register_title\">\n        系统注册\n        <el-button @click=\"toLogin\">点我登录</el-button>\n      </h3>\n\n      <el-form-item label=\"\" prop=\"uNickname\">\n        <el-input\n          type=\"text\"\n          v-model=\"registerForm.uNickname\"\n          autocomplete=\"off\"\n          placeholder=\"请输入您的昵称\"\n          prefix-icon=\"el-icon-user\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"uEmail\">\n        <el-input\n          type=\"email\"\n          v-model=\"registerForm.uEmail\"\n          autocomplete=\"off\"\n          placeholder=\"请输入您的邮箱\"\n          prefix-icon=\"el-icon-message\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"uPhone\">\n        <el-input\n          type=\"number\"\n          v-model=\"registerForm.uPhone\"\n          autocomplete=\"off\"\n          placeholder=\"请输入您的手机号\"\n          prefix-icon=\"el-icon-phone-outline\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"uPassword\">\n        <el-input\n          type=\"password\"\n          v-model=\"registerForm.uPassword\"\n          autocomplete=\"off\"\n          placeholder=\"请输入您的密码\"\n          prefix-icon=\"el-icon-lock\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"checkPassword\">\n        <el-input\n          type=\"password\"\n          v-model=\"registerForm.checkPassword\"\n          autocomplete=\"off\"\n          placeholder=\"请确认密码\"\n          prefix-icon=\"el-icon-lock\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"uAddress\">\n        <el-input\n          v-model.number=\"registerForm.uAddress\"\n          placeholder=\"请输入您的住宿地址\"\n          \n          prefix-icon=\"el-icon-place\"\n        >\n        </el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"register\"\n          >注册</el-button\n        >\n      </el-form-item>\n\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Register\",\n  data() {\n    var checkNickname = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"昵称不能为空\"));\n      }else{\n        return callback()\n      }\n    };\n\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.registerForm.checkPassword !== \"\") {\n          this.$refs.registerForm.validateField(\"uPassword\");\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.registerForm.uPassword) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n\n    var checkEmail = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"邮箱不能为空\"));\n      }else{\n        return callback();\n      }\n    };\n\n    var checkPhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"手机号不能为空\"));\n      }else{\n        return callback()\n      }\n    };\n\n    var checkAddress = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"住宿地址不能为空\"));\n      }else{\n        return callback()\n      }\n    };\n\n\n    return {\n      registerForm: {\n        uPassword: \"\",\n        uNickname: \"\",\n        uEmail: \"\",\n        uPhone: \"\",\n        uAddress: \"\",\n        uCheckPassword: \"\"\n      },\n      rules: {\n        uNickname: [{ validator: checkNickname, trigger: \"blur\" }],\n        uPassword: [{ validator: validatePass, trigger: \"blur\" }],\n        uCheckPassword: [{ validator: validatePass2, trigger: \"blur\" }],\n\n        uEmail: [{ validator: checkEmail, trigger: \"blur\" }],\n        uPhone: [{ validator: checkPhone, trigger: \"blur\" }],\n        uAddress: [{ validator: checkAddress, trigger: \"blur\" }]\n      }\n    };\n  },\n  methods: {\n    register(){\n      // console.log(this.registerForm);\n      // let registerData = new FormData();\n      // registerData.append('uNickname',this.registerForm.uNickname);\n      // registerData.append('uEmail',this.registerForm.uEmail);\n      // registerData.append('uPhone',this.registerForm.uPhone);\n      // registerData.append('uPassword',this.registerForm.uPassword);\n      // registerData.append('uCheckPassword',this.registerForm.uCheckPassword);\n      // registerData.append('uAddress',this.registerForm.uAddress);\n      // 将表单数据转换为 JSON 格式\n      const registerData = {\n        uNickname: this.registerForm.uNickname,\n        uEmail: this.registerForm.uEmail,\n        uPhone: this.registerForm.uPhone,\n        uPassword: this.registerForm.uPassword,\n        uCheckPassword: this.registerForm.uCheckPassword,\n        uAddress: this.registerForm.uAddress\n      };\n\n      // this.axios.post(\"http://localhost:8123/api/users/register/\",registerData).then(resp => {\n      //   console.log(resp);\n      this.axios.post(\"http://localhost:8123/api/users/register/\", registerData, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(resp => {\n        console.log(resp);\n        if(resp.data.message === \"注册成功\"){\n          this.$message({\n              message: resp.data.message,\n              type: \"success\",\n          });\n          this.$router.push({ path: \"/Login\" });\n        }\n      }).catch(error => {\n        console.log(error);\n      })\n\n      console.log(registerData);\n    },\n    toLogin() {\n      this.$router.push({ path: \"/Login\" });\n    },\n  },\n};\n</script>\n\n<style>\n#poster {\n  background-position: center;\n  height: 100%;\n  width: 100%;\n  background-size: cover;\n  position: fixed;\n  margin: 0px;\n  padding: 0px;\n}\n\n.register-container {\n  border-right: 15px;\n  background-clip: padding-box;\n  margin: 90px auto;\n  width: 350px;\n  padding: 35px 35px 15px 35px;\n  background: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 20px #cac6c6;\n}\n.register_title {\n  margin: 0px auto 40px auto;\n  text-align: center;\n  color: #505458;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}