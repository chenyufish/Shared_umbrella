{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      token: localStorage.getItem(\"token\"),\n      currUser: JSON.parse(localStorage.getItem('currUser')),\n      multipleSelection: []\n    };\n  },\n  methods: {\n    toggleSelection(rows) {\n      if (rows) {\n        rows.forEach(row => {\n          this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    handleCommand(command) {\n      console.log(command);\n      if (command === \"toIndex\") {\n        this.$router.push({\n          path: \"/\"\n        });\n      } else if (command === \"loginout\") {\n        console.log(\"登出\", this.token);\n        this.axios.post(\"http://localhost:8123/api/user/loginout\", null, {\n          params: {\n            token: this.token\n          }\n        }).then(resp => {\n          console.log(resp);\n          localStorage.removeItem(\"token\");\n          this.loginFlag = false;\n          this.token = null;\n          this.$message({\n            message: \"退出成功\",\n            type: \"success\"\n          });\n          this.$router.push({\n            path: \"/\"\n          });\n        }).catch(error => {\n          console.log(error);\n        });\n      } else {\n        console.log(\"用户信息\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","token","localStorage","getItem","currUser","JSON","parse","multipleSelection","methods","toggleSelection","rows","forEach","row","$refs","multipleTable","toggleRowSelection","clearSelection","handleSelectionChange","val","handleCommand","command","console","log","$router","push","path","axios","post","params","then","resp","removeItem","loginFlag","$message","message","type","catch","error"],"sources":["src/views/layout/index.vue"],"sourcesContent":["<template>\n  <div>\n    <el-container style=\"height: 100%; border: 1px solid #eee\">\n      <el-aside width=\"200px\">\n        <h3 class=\"title\">共享雨伞管理后台</h3>\n        <el-menu\n          :default-openeds=\"['1', '3']\"\n          background-color=\"#FFF\"\n          text-color=\"#000\"\n          style=\"border-right: none\"\n        >\n          <el-menu-item index=\"1\" v-show=\"currUser.unickname == 'admin'\">\n            <router-link tag=\"div\" to=\"/goods\">雨伞管理</router-link>\n          </el-menu-item>\n          <el-menu-item index=\"2\">\n            <router-link tag=\"div\" to=\"/order\">订单管理</router-link>\n          </el-menu-item>\n          <el-menu-item index=\"3\" v-show=\"currUser.unickname == 'admin'\">\n            <router-link tag=\"div\" to=\"/user\" >用户管理</router-link>\n          </el-menu-item>\n        </el-menu>\n      </el-aside>\n\n      <el-container>\n        <el-header style=\"text-align: right; font-size: 12px\">\n          <el-dropdown @command=\"handleCommand\">\n            <span class=\"el-dropdown-link\">\n              <i class=\"el-icon-user-solid\"></i>\n              {{currUser.unickname}}\n              <i class=\"el-icon-arrow-down el-icon--right\"></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"toIndex\">首页</el-dropdown-item>\n              <el-dropdown-item command=\"userInfo\">个人信息</el-dropdown-item>\n              <el-dropdown-item command=\"loginout\">登出</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </el-header>\n\n        <el-main>\n          <router-view />\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      token: localStorage.getItem(\"token\"),\n      currUser: JSON.parse(localStorage.getItem('currUser')),\n      multipleSelection: [],\n    };\n  },\n  methods: {\n    toggleSelection(rows) {\n      if (rows) {\n        rows.forEach((row) => {\n          this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    handleCommand(command) {\n      console.log(command);\n      if (command === \"toIndex\") {\n        this.$router.push({ path: \"/\" });\n      } else if (command === \"loginout\") {\n        console.log(\"登出\", this.token);\n        this.axios\n          .post(\"http://localhost:8123/api/user/loginout\", null, {\n            params: {\n              token: this.token,\n            },\n          })\n          .then((resp) => {\n            console.log(resp);\n            localStorage.removeItem(\"token\");\n            this.loginFlag = false;\n            this.token = null;\n            this.$message({\n              message: \"退出成功\",\n              type: \"success\",\n            });\n            this.$router.push({ path: \"/\" });\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }else{\n        console.log(\"用户信息\");\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.el-header {\n  color: #333;\n  line-height: 60px;\n}\n\n.el-aside {\n  color: #333;\n}\n\n.el-dropdown-link {\n  cursor: pointer;\n  color: #409eff;\n}\n.el-icon-arrow-down {\n  font-size: 12px;\n}\n\n.title {\n  text-align: center;\n\n  height: 60px;\n  line-height: 60px;\n}\n</style>"],"mappings":";AAgDA;EACAA,KAAA;IACA;MACAC,KAAA,EAAAC,YAAA,CAAAC,OAAA;MACAC,QAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAJ,YAAA,CAAAC,OAAA;MACAI,iBAAA;IACA;EACA;EACAC,OAAA;IACAC,gBAAAC,IAAA;MACA,IAAAA,IAAA;QACAA,IAAA,CAAAC,OAAA,CAAAC,GAAA;UACA,KAAAC,KAAA,CAAAC,aAAA,CAAAC,kBAAA,CAAAH,GAAA;QACA;MACA;QACA,KAAAC,KAAA,CAAAC,aAAA,CAAAE,cAAA;MACA;IACA;IACAC,sBAAAC,GAAA;MACA,KAAAX,iBAAA,GAAAW,GAAA;IACA;IACAC,cAAAC,OAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,OAAA;MACA,IAAAA,OAAA;QACA,KAAAG,OAAA,CAAAC,IAAA;UAAAC,IAAA;QAAA;MACA,WAAAL,OAAA;QACAC,OAAA,CAAAC,GAAA,YAAArB,KAAA;QACA,KAAAyB,KAAA,CACAC,IAAA;UACAC,MAAA;YACA3B,KAAA,OAAAA;UACA;QACA,GACA4B,IAAA,CAAAC,IAAA;UACAT,OAAA,CAAAC,GAAA,CAAAQ,IAAA;UACA5B,YAAA,CAAA6B,UAAA;UACA,KAAAC,SAAA;UACA,KAAA/B,KAAA;UACA,KAAAgC,QAAA;YACAC,OAAA;YACAC,IAAA;UACA;UACA,KAAAZ,OAAA,CAAAC,IAAA;YAAAC,IAAA;UAAA;QACA,GACAW,KAAA,CAAAC,KAAA;UACAhB,OAAA,CAAAC,GAAA,CAAAe,KAAA;QACA;MACA;QACAhB,OAAA,CAAAC,GAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}