{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Register\",\n  data() {\n    var checkNickname = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"昵称不能为空\"));\n      } else {\n        return callback();\n      }\n    };\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.registerForm.checkPassword !== \"\") {\n          this.$refs.registerForm.validateField(\"uPassword\");\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.registerForm.uPassword) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    var checkEmail = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"邮箱不能为空\"));\n      } else {\n        return callback();\n      }\n    };\n    var checkPhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"手机号不能为空\"));\n      } else {\n        return callback();\n      }\n    };\n    var checkAddress = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"住宿地址不能为空\"));\n      } else {\n        return callback();\n      }\n    };\n    return {\n      registerForm: {\n        uPassword: \"\",\n        checkPassword: \"\",\n        uNickname: \"\",\n        uEmail: \"\",\n        uPhone: \"\",\n        uAddress: \"\"\n      },\n      rules: {\n        uPassword: [{\n          validator: validatePass,\n          trigger: \"blur\"\n        }],\n        checkPassword: [{\n          validator: validatePass2,\n          trigger: \"blur\"\n        }],\n        uNickname: [{\n          validator: checkNickname,\n          trigger: \"blur\"\n        }],\n        uEmail: [{\n          validator: checkEmail,\n          trigger: \"blur\"\n        }],\n        uPhone: [{\n          validator: checkPhone,\n          trigger: \"blur\"\n        }],\n        uAddress: [{\n          validator: checkAddress,\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    register() {\n      console.log(this.registerForm);\n      let registerData = new FormData();\n      registerData.append('uNickname', this.registerForm.uNickname);\n      registerData.append('uEmail', this.registerForm.uEmail);\n      registerData.append('uPhone', this.registerForm.uPhone);\n      registerData.append('uPassword', this.registerForm.uPassword);\n      registerData.append('uAddress', this.registerForm.uAddress);\n      this.axios.post(\"http://localhost:8123/api/user/register/\", registerData).then(resp => {\n        console.log(resp);\n        if (resp.data.message === \"注册成功\") {\n          this.$message({\n            message: resp.data.message,\n            type: \"success\"\n          });\n          this.$router.push({\n            path: \"/Login\"\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n      console.log(registerData);\n    },\n    toLogin() {\n      this.$router.push({\n        path: \"/Login\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","checkNickname","rule","value","callback","Error","validatePass","registerForm","checkPassword","$refs","validateField","validatePass2","uPassword","checkEmail","checkPhone","checkAddress","uNickname","uEmail","uPhone","uAddress","rules","validator","trigger","methods","register","console","log","registerData","FormData","append","axios","post","then","resp","message","$message","type","$router","push","path","catch","error","toLogin"],"sources":["src/views/RegisterView.vue"],"sourcesContent":["<template>\n  <div class=\"poster\">\n    <el-form\n      :model=\"registerForm\"\n      status-icon\n      :rules=\"rules\"\n      ref=\"registerForm\"\n      label-position=\"left\"\n      class=\"register-container\"\n    >\n      <h3 class=\"register_title\">\n        系统注册\n        <el-button @click=\"toLogin\">点我登录</el-button>\n      </h3>\n\n      <el-form-item label=\"\" prop=\"uNickname\">\n        <el-input\n          type=\"text\"\n          v-model=\"registerForm.uNickname\"\n          autocomplete=\"off\"\n          placeholder=\"请输入您的昵称\"\n          prefix-icon=\"el-icon-user\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"uEmail\">\n        <el-input\n          type=\"email\"\n          v-model=\"registerForm.uEmail\"\n          autocomplete=\"off\"\n          placeholder=\"请输入您的邮箱\"\n          prefix-icon=\"el-icon-message\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"uPhone\">\n        <el-input\n          type=\"number\"\n          v-model=\"registerForm.uPhone\"\n          autocomplete=\"off\"\n          placeholder=\"请输入您的手机号\"\n          prefix-icon=\"el-icon-phone-outline\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"uPassword\">\n        <el-input\n          type=\"password\"\n          v-model=\"registerForm.uPassword\"\n          autocomplete=\"off\"\n          placeholder=\"请输入您的密码\"\n          prefix-icon=\"el-icon-lock\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"checkPassword\">\n        <el-input\n          type=\"password\"\n          v-model=\"registerForm.checkPassword\"\n          autocomplete=\"off\"\n          placeholder=\"请确认密码\"\n          prefix-icon=\"el-icon-lock\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"\" prop=\"uAddress\">\n        <el-input\n          v-model.number=\"registerForm.uAddress\"\n          placeholder=\"请输入您的住宿地址\"\n\n          prefix-icon=\"el-icon-place\"\n        >\n        </el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"register\"\n          >注册</el-button\n        >\n      </el-form-item>\n\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Register\",\n  data() {\n    var checkNickname = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"昵称不能为空\"));\n      }else{\n        return callback()\n      }\n    };\n\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.registerForm.checkPassword !== \"\") {\n          this.$refs.registerForm.validateField(\"uPassword\");\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.registerForm.uPassword) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n\n    var checkEmail = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"邮箱不能为空\"));\n      }else{\n        return callback();\n      }\n    };\n\n    var checkPhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"手机号不能为空\"));\n      }else{\n        return callback()\n      }\n    };\n\n    var checkAddress = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"住宿地址不能为空\"));\n      }else{\n        return callback()\n      }\n    };\n\n\n    return {\n      registerForm: {\n        uPassword: \"\",\n        checkPassword: \"\",\n        uNickname: \"\",\n        uEmail: \"\",\n        uPhone: \"\",\n        uAddress: \"\"\n      },\n      rules: {\n        uPassword: [{ validator: validatePass, trigger: \"blur\" }],\n        checkPassword: [{ validator: validatePass2, trigger: \"blur\" }],\n        uNickname: [{ validator: checkNickname, trigger: \"blur\" }],\n        uEmail: [{ validator: checkEmail, trigger: \"blur\" }],\n        uPhone: [{ validator: checkPhone, trigger: \"blur\" }],\n        uAddress: [{ validator: checkAddress, trigger: \"blur\" }]\n      }\n    };\n  },\n  methods: {\n    register(){\n      console.log(this.registerForm);\n      let registerData = new FormData();\n      registerData.append('uNickname',this.registerForm.uNickname);\n      registerData.append('uEmail',this.registerForm.uEmail);\n      registerData.append('uPhone',this.registerForm.uPhone);\n      registerData.append('uPassword',this.registerForm.uPassword);\n      registerData.append('uAddress',this.registerForm.uAddress);\n\n      this.axios.post(\"http://localhost:8123/api/user/register/\",registerData).then(resp => {\n        console.log(resp);\n        if(resp.data.message === \"注册成功\"){\n          this.$message({\n              message: resp.data.message,\n              type: \"success\",\n          });\n          this.$router.push({ path: \"/Login\" });\n        }\n      }).catch(error => {\n        console.log(error);\n      })\n\n      console.log(registerData);\n    },\n    toLogin() {\n      this.$router.push({ path: \"/Login\" });\n    },\n  },\n};\n</script>\n\n<style>\n#poster {\n  background-position: center;\n  height: 100%;\n  width: 100%;\n  background-size: cover;\n  position: fixed;\n  margin: 0px;\n  padding: 0px;\n}\n\n.register-container {\n  border-right: 15px;\n  background-clip: padding-box;\n  margin: 90px auto;\n  width: 350px;\n  padding: 35px 35px 15px 35px;\n  background: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 20px #cac6c6;\n}\n.register_title {\n  margin: 0px auto 40px auto;\n  text-align: center;\n  color: #505458;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}